{"ast":null,"code":"var _jsxFileName = \"/home/dlwldyd/project/video_chat/video-chat-backend/frontend/src/Auth/FetchMemberInfo.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport styled from \"styled-components\";\nimport myData from \"../data/data\";\nimport handleAxiosException from \"../exception/handleAxiosException\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Box = styled.div`\n    width: 100%;\n    height: 98vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n_c = Box;\nconst Loading = styled.div`\n    font-size: 100px;\n    font-family: ${props => props.theme.font};;\n`;\n_c2 = Loading;\n\nfunction FetchMemberInfo() {\n  _s();\n\n  const navigate = useNavigate();\n  useEffect(() => {\n    const getMemberInfo = async () => {\n      const json = await (await axios.get(`${myData.domain}/api/memberInfo`, {\n        withCredentials: true\n      })).data;\n      sessionStorage.setItem(\"authenticated\", json.authenticated);\n\n      if (json.authenticated) {\n        sessionStorage.setItem(\"username\", json.username);\n        sessionStorage.setItem(\"nickname\", json.nickname);\n      }\n\n      navigate(\"/\", {\n        replace: true\n      });\n    };\n\n    try {\n      getMemberInfo();\n    } catch (err) {\n      handleAxiosException(err);\n    }\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: /*#__PURE__*/_jsxDEV(Loading, {\n      children: \"\\uB85C\\uADF8\\uC778 \\uC911..\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FetchMemberInfo, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n\n_c3 = FetchMemberInfo;\nexport default FetchMemberInfo;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Box\");\n$RefreshReg$(_c2, \"Loading\");\n$RefreshReg$(_c3, \"FetchMemberInfo\");","map":{"version":3,"names":["axios","useEffect","useNavigate","styled","myData","handleAxiosException","Box","div","Loading","props","theme","font","FetchMemberInfo","navigate","getMemberInfo","json","get","domain","withCredentials","data","sessionStorage","setItem","authenticated","username","nickname","replace","err"],"sources":["/home/dlwldyd/project/video_chat/video-chat-backend/frontend/src/Auth/FetchMemberInfo.tsx"],"sourcesContent":["import axios, { AxiosError } from \"axios\";\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport styled from \"styled-components\";\nimport myData from \"../data/data\";\nimport handleAxiosException from \"../exception/handleAxiosException\";\n\nconst Box = styled.div`\n    width: 100%;\n    height: 98vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`\n\nconst Loading = styled.div`\n    font-size: 100px;\n    font-family: ${props => props.theme.font};;\n`\n\nfunction FetchMemberInfo() {\n\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const getMemberInfo = async () => {\n            const json = await (await axios.get(`${myData.domain}/api/memberInfo`, {\n                withCredentials: true\n            })).data;\n            sessionStorage.setItem(\"authenticated\", json.authenticated);\n            if(json.authenticated) {\n                sessionStorage.setItem(\"username\", json.username);\n                sessionStorage.setItem(\"nickname\", json.nickname);\n            }\n            navigate(\"/\", {replace: true});\n        }\n        try {\n            getMemberInfo();\n        } catch(err: unknown | AxiosError) {\n            handleAxiosException(err);\n        }\n    }, [navigate]);\n\n    return (\n        <Box>\n            <Loading>로그인 중..</Loading>\n        </Box>\n    )\n}\nexport default FetchMemberInfo;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkC,OAAlC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,oBAAP,MAAiC,mCAAjC;;AAEA,MAAMC,GAAG,GAAGH,MAAM,CAACI,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA,CANA;KAAMD,G;AAQN,MAAME,OAAO,GAAGL,MAAM,CAACI,GAAI;AAC3B;AACA,mBAAmBE,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYC,IAAK;AAC7C,CAHA;MAAMH,O;;AAKN,SAASI,eAAT,GAA2B;EAAA;;EAEvB,MAAMC,QAAQ,GAAGX,WAAW,EAA5B;EAEAD,SAAS,CAAC,MAAM;IACZ,MAAMa,aAAa,GAAG,YAAY;MAC9B,MAAMC,IAAI,GAAG,MAAM,CAAC,MAAMf,KAAK,CAACgB,GAAN,CAAW,GAAEZ,MAAM,CAACa,MAAO,iBAA3B,EAA6C;QACnEC,eAAe,EAAE;MADkD,CAA7C,CAAP,EAEfC,IAFJ;MAGAC,cAAc,CAACC,OAAf,CAAuB,eAAvB,EAAwCN,IAAI,CAACO,aAA7C;;MACA,IAAGP,IAAI,CAACO,aAAR,EAAuB;QACnBF,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAmCN,IAAI,CAACQ,QAAxC;QACAH,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAmCN,IAAI,CAACS,QAAxC;MACH;;MACDX,QAAQ,CAAC,GAAD,EAAM;QAACY,OAAO,EAAE;MAAV,CAAN,CAAR;IACH,CAVD;;IAWA,IAAI;MACAX,aAAa;IAChB,CAFD,CAEE,OAAMY,GAAN,EAAiC;MAC/BrB,oBAAoB,CAACqB,GAAD,CAApB;IACH;EACJ,CAjBQ,EAiBN,CAACb,QAAD,CAjBM,CAAT;EAmBA,oBACI,QAAC,GAAD;IAAA,uBACI,QAAC,OAAD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH;;GA5BQD,e;UAEYV,W;;;MAFZU,e;AA6BT,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}