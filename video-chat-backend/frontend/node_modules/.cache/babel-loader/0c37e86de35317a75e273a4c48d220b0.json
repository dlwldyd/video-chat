{"ast":null,"code":"import _regeneratorRuntime from\"/home/dlwldyd/project/video_chat/video-chat-backend/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/dlwldyd/project/video_chat/video-chat-backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _taggedTemplateLiteral from\"/home/dlwldyd/project/video_chat/video-chat-backend/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import axios from\"axios\";import{useNavigate}from\"react-router\";import styled from\"styled-components\";import myData from\"../data/data\";import handleAxiosException from\"../exception/handleAxiosException\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    height: 980px;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    font-family: \",\";\\n\"])),function(props){return props.theme.font;});var LoginBox=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    width: 600px;\\n    height: 500px;\\n    background-color: \",\";\\n    border: 5px solid #e6d5d5;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n\"])),function(props){return props.theme.color.bgColor;});var GoogleLogin=styled.img(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    width: 400px;\\n    height: 100px;\\n\"])));var NaverLogin=styled.img(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    width: 390px;\\n    height: 90px;\\n\"])));var NoLogin=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    all: unset;\\n    font-family: \",\";\\n    font-size: 30px;\\n    width: 390px;\\n    height: 90px;\\n    border-radius: 6px;\\n    color: white;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    background-color: black;\\n    &:hover {\\n        cursor: pointer;\\n    }\\n\"])),function(props){return props.theme.font;});var Head=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    font-size: 80px;\\n    margin-bottom: 30px;    \\n\"])));function Login(){var navigate=useNavigate();var publicUrl=process.env.PUBLIC_URL;var onClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$yield$axios$ge,username,password,form;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(myData.domain,\"/tmp/member\"));case 3:_context.next=5;return _context.sent.data;case 5:_yield$yield$axios$ge=_context.sent;username=_yield$yield$axios$ge.username;password=_yield$yield$axios$ge.password;form=new FormData();form.append(\"username\",username);form.append(\"password\",password);axios.post(\"\".concat(myData.domain,\"/login\"),form);_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);handleAxiosException(_context.t0);navigate(\"/\");case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return function onClick(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(LoginContainer,{children:/*#__PURE__*/_jsxs(LoginBox,{children:[/*#__PURE__*/_jsx(Head,{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(myData.domain,\"/oauth2/authorization/google\"),children:/*#__PURE__*/_jsx(GoogleLogin,{src:\"\".concat(publicUrl,\"/web/2x/btn_google_signin_light_normal_web@2x.png\"),alt:\"\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(myData.domain,\"/oauth2/authorization/naver\"),children:/*#__PURE__*/_jsx(NaverLogin,{src:\"\".concat(publicUrl,\"/2021_Login_with_naver_guidelines_En/btnG_official.png\"),alt:\"\"})}),/*#__PURE__*/_jsx(NoLogin,{onClick:onClick,children:\"\\uB85C\\uADF8\\uC778 \\uC5C6\\uC774 \\uCCB4\\uD5D8\\uD558\\uAE30\"})]})});}export default Login;","map":{"version":3,"names":["axios","useNavigate","styled","myData","handleAxiosException","LoginContainer","div","props","theme","font","LoginBox","color","bgColor","GoogleLogin","img","NaverLogin","NoLogin","button","Head","Login","navigate","publicUrl","process","env","PUBLIC_URL","onClick","get","domain","data","username","password","form","FormData","append","post"],"sources":["/home/dlwldyd/project/video_chat/video-chat-backend/frontend/src/Auth/Login.tsx"],"sourcesContent":["import axios, { AxiosError } from \"axios\";\nimport { useNavigate } from \"react-router\";\nimport styled from \"styled-components\";\nimport myData from \"../data/data\";\nimport handleAxiosException from \"../exception/handleAxiosException\";\n\nconst LoginContainer = styled.div`\n    width: 100%;\n    height: 980px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-family: ${props => props.theme.font};\n`\n\nconst LoginBox = styled.div`\n    width: 600px;\n    height: 500px;\n    background-color: ${props => props.theme.color.bgColor};\n    border: 5px solid #e6d5d5;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n`\n\nconst GoogleLogin = styled.img`\n    width: 400px;\n    height: 100px;\n`\n\nconst NaverLogin = styled.img`\n    width: 390px;\n    height: 90px;\n`\n\nconst NoLogin = styled.button`\n    all: unset;\n    font-family: ${props => props.theme.font};\n    font-size: 30px;\n    width: 390px;\n    height: 90px;\n    border-radius: 6px;\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: black;\n    &:hover {\n        cursor: pointer;\n    }\n`\n\nconst Head = styled.div`\n    font-size: 80px;\n    margin-bottom: 30px;    \n`\n\nfunction Login() {\n\n    const navigate = useNavigate();\n\n    const publicUrl = process.env.PUBLIC_URL;\n\n    const onClick = async () => {\n        try{\n            const { username, password } = await (await axios.get(`${myData.domain}/tmp/member`)).data;\n            const form = new FormData();\n            form.append(\"username\", username);\n            form.append(\"password\", password);\n            axios.post(`${myData.domain}/login`, form);\n        } catch(err: unknown | AxiosError) {\n            handleAxiosException(err);\n            navigate(\"/\");\n        }\n    }\n\n    return (\n        <LoginContainer>\n            <LoginBox>\n                <Head>로그인</Head>\n                <a href={`${myData.domain}/oauth2/authorization/google`}>\n                    <GoogleLogin src={`${publicUrl}/web/2x/btn_google_signin_light_normal_web@2x.png`} alt=\"\"></GoogleLogin>\n                </a>\n                <a href={`${myData.domain}/oauth2/authorization/naver`}>\n                    <NaverLogin src={`${publicUrl}/2021_Login_with_naver_guidelines_En/btnG_official.png`} alt=\"\"></NaverLogin>\n                </a>\n                <NoLogin onClick={onClick}>로그인 없이 체험하기</NoLogin>\n            </LoginBox>\n        </LoginContainer>\n    );\n}\n\nexport default Login;"],"mappings":"+jBAAA,MAAOA,MAAP,KAAkC,OAAlC,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,MAAOC,OAAP,KAAmB,cAAnB,CACA,MAAOC,qBAAP,KAAiC,mCAAjC,C,wFAEA,GAAMC,eAAc,CAAGH,MAAM,CAACI,GAAV,4MAMD,SAAAC,KAAK,QAAIA,MAAK,CAACC,KAAN,CAAYC,IAAhB,EANJ,CAApB,CASA,GAAMC,SAAQ,CAAGR,MAAM,CAACI,GAAV,iRAGU,SAAAC,KAAK,QAAIA,MAAK,CAACC,KAAN,CAAYG,KAAZ,CAAkBC,OAAtB,EAHf,CAAd,CAWA,GAAMC,YAAW,CAAGX,MAAM,CAACY,GAAV,4GAAjB,CAKA,GAAMC,WAAU,CAAGb,MAAM,CAACY,GAAV,2GAAhB,CAKA,GAAME,QAAO,CAAGd,MAAM,CAACe,MAAV,+WAEM,SAAAV,KAAK,QAAIA,MAAK,CAACC,KAAN,CAAYC,IAAhB,EAFX,CAAb,CAiBA,GAAMS,KAAI,CAAGhB,MAAM,CAACI,GAAV,yHAAV,CAKA,QAASa,MAAT,EAAiB,CAEb,GAAMC,SAAQ,CAAGnB,WAAW,EAA5B,CAEA,GAAMoB,UAAS,CAAGC,OAAO,CAACC,GAAR,CAAYC,UAA9B,CAEA,GAAMC,QAAO,4FAAG,4NAEoCzB,MAAK,CAAC0B,GAAN,WAAavB,MAAM,CAACwB,MAApB,gBAFpC,6CAE8EC,IAF9E,4CAEAC,QAFA,uBAEAA,QAFA,CAEUC,QAFV,uBAEUA,QAFV,CAGFC,IAHE,CAGK,GAAIC,SAAJ,EAHL,CAIRD,IAAI,CAACE,MAAL,CAAY,UAAZ,CAAwBJ,QAAxB,EACAE,IAAI,CAACE,MAAL,CAAY,UAAZ,CAAwBH,QAAxB,EACA9B,KAAK,CAACkC,IAAN,WAAc/B,MAAM,CAACwB,MAArB,WAAqCI,IAArC,EANQ,iFAQR3B,oBAAoB,aAApB,CACAgB,QAAQ,CAAC,GAAD,CAAR,CATQ,qEAAH,kBAAPK,QAAO,0CAAb,CAaA,mBACI,KAAC,cAAD,wBACI,MAAC,QAAD,yBACI,KAAC,IAAD,iCADJ,cAEI,UAAG,IAAI,WAAKtB,MAAM,CAACwB,MAAZ,gCAAP,uBACI,KAAC,WAAD,EAAa,GAAG,WAAKN,SAAL,qDAAhB,CAAmF,GAAG,CAAC,EAAvF,EADJ,EAFJ,cAKI,UAAG,IAAI,WAAKlB,MAAM,CAACwB,MAAZ,+BAAP,uBACI,KAAC,UAAD,EAAY,GAAG,WAAKN,SAAL,0DAAf,CAAuF,GAAG,CAAC,EAA3F,EADJ,EALJ,cAQI,KAAC,OAAD,EAAS,OAAO,CAAEI,OAAlB,sEARJ,GADJ,EADJ,CAcH,CAED,cAAeN,MAAf"},"metadata":{},"sourceType":"module"}